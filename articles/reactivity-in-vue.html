<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>duche - blog</title>

  <link rel="icon" href="/favicon.ico">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../styles/main.css">

  <link rel="stylesheet" href="../styles/blog.css">
  <link rel="stylesheet" href="../styles/rose-pine-theme.css">
</head>
<body>
  <nav>
    <ul>
      <li>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-heart-icon lucide-heart"
        >
          <path
            d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"
          />
        </svg>
        <a href="../index.html">index.html</a>
      </li>
      <li>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-heart-icon lucide-heart"
        >
          <path
            d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"
          />
        </svg>
        <a href="../pages/about.html">about me</a>
      </li>
      <li>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-heart-icon lucide-heart active"
        >
          <path
            d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"
          />
        </svg>
        <a href="../pages/blog.html">blog</a>
      </li>
      <li>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-heart-icon lucide-heart"
        >
          <path
            d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"
          />
        </svg>
        <a href="../pages/anime.html">anime</a>
      </li>
      <li>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-heart-icon lucide-heart"
        >
          <path
            d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"
          />
        </svg>
        <a href="../pages/projects.html">projects</a>
      </li>
    </ul>
  </nav>

  <hr>

  <main>
    <h1>Blog - more yapping by me</h1>

    <a href="../pages/blog.html" class="go-back-btn">
      Go Back
    </a>

    <div class="content">
      <p>I work as frontend developer in vue and I started programming from doing html, but still I have not really explored it deeply. I want to improve my frontend knowledge!. I decided to show it here with my own wording.</p>

      <p>emm... i do not know how to start it. So, the idea is whenever our state/variable changes, we have to update the places where this state was used. below is code example and image</p>

      <div style="display: flex;">
        <pre class="code-block">
          <code>
    let a = 1;
    let b = 2;
    let c = a + b;

    console.log(c); // c = 3

    // however, if we change the value of a our c state will be not change
    a = 2; // c remains 3 not 4

    // we have to manually update c again
      </code>
        </pre>

        <img src="./images/reactivity.png" alt="reactivity not working example">
      </div>

      <p>so what should we do? when our state changes we have to notify all the subscribers to our state saying that value is updated and running all the subscriber functions. we can do that by using getters and setters</p>

      <p>so here is simple ref object.</p>

      <pre class="code-block">
        <code>
    function ref(value) {      
      return {
        get value() {
          return value;
        },

        set value(newValue) {
          value = newValue;
        },
      };
    }
        </code>
      </pre>

      <p>its not reactive yet. basically when we call get function we must assign the function or place that is using our state as our dependency and when set function is called we are going to traverse our dependencies and re run them. in most cases, we can understand this functions or places as <b>render</b> functions. i mean, when state changes render will be called and our website will be updated or rerendered.</p>

      <p>we use set to keep track of our dependencies and one global variable for knowing which function or rendering is happening. vue guys called it effect from side effect idea. coz our states are changing.</p>

      <p>here is updated ref</p>

      <pre class="code-block">
        <code>
    function ref(value) {    
      const deps = new Set();
      
      return {
        get value() {
          if (activeEffect) deps.add(activeEffect); // if there is currently running some effect which means its used our state right now, which means we subscribe it to our state by adding to our deps set.
          return value;
        },

        set value(newValue) {
          value = newValue;
          deps.forEach(dep => dep()); // whenever we get newValue for our state we notify all the dependencies
        },
      };
    }
        </code>
      </pre>

      <p>part with global activeEffect variable and effect function which does side effects</p>

      <pre class="code-block">
        <code>
    let activeEffect = null;

    function effect(fn) { // fn - is some function that used our state
      activeEffect = fn; // we set the activeEffect as fn
      fn(); // inside this fn, its accessing to some states we have got. and get function will be triggered and activeEffect is our function so it adds to its own deps set. 
      activeEffect = null;
    }

    function ref(value) {    
      const deps = new Set();
      
      return {
        get value() {
          if (activeEffect) deps.add(activeEffect);
          return value;
        },

        set value(newValue) {
          value = newValue;
          deps.forEach(dep => dep());
        },
      };
    }
        </code>
      </pre>

      <p>now, its done, we can create our reactive states with ref function and run the functions that are using it with effect function. here is quick example</p>

      <pre class="code-block">
        <code>
    let counter = ref(0);

    function render() {
      console.log(`Counter: ${counter.value}`); // lets imagine this as we are updating the real html dom
    }

    effect(render)

    // now whenever we change the counter.value render function will be called.
    counter.value++; 
        </code>
      </pre>
      
      <p>i know the real framework does not work like this.</p>

      <p>probably, vue nerds, professionals reading this (ofc they dont read my bullshit wording/understanding) might find incorrect or something else but who cares. i now know some pattern and use it maybe somewhere else</p>

      <p>so, if u come across with the case where u need to work with reactivity, u can just implement it in any language and use. try it</p>

      <!-- bobur0218programmer@gmail.com -->
      <p>
        in the future i will add the comments as well, right now u can email if u want ofc.
        <span title="ctrl + shift + i and then hover the 'hover me' text using PICK Element(ctrl+shift+c) and look at dom. i hope u know what is that in devtools lol">
          hover me.
        </span>
        u can leave your comments and suggestions or whatever u think of this. thanks
      </p>

      <p>i just shared the thing i learn from my day. im telling this to my mind!</p>

      <p>also this might not be only used in vue reactivity*</p>

      <h4 style="text-align: center;">Thank you for reading</h4>
    </div>
  </main>

  <hr class="footer-divider">

  <div class="page-stats">
    <p>views: <span id="views">-</span></p>
  </div>

  <div class="page-last-updated">
    <p>created at: <span id="created-at">-</span></p>
    <p>updated at: <span id="last-updated-at">-</span></p>
  </div>

  <footer>
    <h4>built with desire to finish by me</h4>
  </footer>

  <script src="../scripts/info.js"></script>
</body>
</html>